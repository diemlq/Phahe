<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Pháº£ há»‡ dáº¡ng trÃªnâ€“xuá»‘ng</title>
<script src="https://balkan.app/js/OrgChart.js"></script>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: auto;
  }

  #tree {
    width: 100vw;
    height: 100vh;
  }

  .node-text {
    width: 230px;
    text-align: center;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.1;
  }

  .index { font-size: 13px; color: #e60000; }
  .name { font-size: 15px; font-weight: normal; color: #fceb07; }
  .vc { font-size: 14px; color: #ffffff; }

  /* Há»™p chi tiáº¿t (popup) */
  #popup {
    position: absolute;
    background: rgba(255,255,255,0.95);
    border: 1px solid #666;
    border-radius: 8px;
    padding: 10px 14px;
    max-width: 300px;
    font-size: 14px;
    line-height: 1.3;
    display: none;
    z-index: 9999;
    box-shadow: 0 3px 12px rgba(0,0,0,0.3);
  }
</style>
</head>
<body>
<style>
  /* Viá»n cam bao quanh toÃ n bá»™ trang web */
  html {
    box-sizing: border-box;
    padding: 8px; /* khoáº£ng cÃ¡ch tá»« viá»n Ä‘áº¿n ná»™i dung */
    background: #000; /* ná»n Ä‘en Ä‘á»ƒ viá»n cam hiá»‡n rÃµ hÆ¡n trÃªn má»i thiáº¿t bá»‹ */
    min-height: 100vh;
  }

  body {
    margin: 0;
    min-height: 100vh;
    border: 6px solid #ff6a00;     /* mÃ u cam Ä‘áº­m Ä‘áº¹p */
    /* Hoáº·c dÃ¹ng cÃ¡c mÃ u cam khÃ¡c:
       #ff9500 (cam sÃ¡ng)
       #ff5e00 (cam Ä‘á»)
       #ff7b00
       #ffa500 (mÃ u orange chuáº©n)
    */
    border-radius: 12px; /* bo gÃ³c viá»n cho má»m máº¡i */
    overflow-x: hidden;
    background: white; /* mÃ u ná»n trang web tháº­t sá»± */
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
<style>
  .announcement-bar {font-family: 'Lobster', cursive; text-align: center; font-size: 32px; padding: 10px 0; color: #d14b00;}
</style>
<div class="announcement-bar"> ğŸ”¥ Con chÃ¡u gia Ä‘Ã¬nh cá»¥ Nguyá»…n ÄÃ¬nh A ğŸ”¥ </div>  
<div id="tree"></div>
<div id="popup"></div>

<script>
var nodes = [
  { id: 1, index: "Äá»i thá»© 1", name: "Nguyá»…n ÄÃ¬nh A: 1844", VC: "Äá»— Thá»‹ A", chitiet: "NgÆ°á»i sÃ¡ng láº­p chi há», sinh nÄƒm 1844, quÃª HÃ  TÃ¢y." },
  { id: 2, pid: 1, index: "Äá»i thá»© 2", name: "Nguyá»…n ÄÃ¬nh B: 1882", VC: "Äá»— Thá»‹ B", chitiet: "Con trÆ°á»Ÿng cá»§a Nguyá»…n ÄÃ¬nh A, cÃ³ nhiá»u Ä‘Ã³ng gÃ³p cho dÃ²ng há»." },
  { id: 3, pid: 2, index: "Äá»i thá»© 3", name: "Nguyá»…n ÄÃ¬nh C: 1912", VC: "Nguyá»…n Thá»‹ C", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh giÃ¡o dá»¥c, cÃ³ ba ngÆ°á»i con." },
  { id: 4, pid: 2, index: "Äá»i thá»© 3", name: "Nguyá»…n ÄÃ¬nh D: 1914", VC: "Nguyá»…n Thá»‹ D: 1922", chitiet: "Sinh nÄƒm 1914, lÃ m viá»‡c táº¡i HÃ  Ná»™i, cÃ³ hai ngÆ°á»i con." },
  { id: 7, pid: 3, index: "Äá»i thá»© 4", name: "Nguyá»…n ÄÃ¬nh E: 1940", VC: "Nguyá»…n Thá»‹ E", chitiet: "Ká»¹ sÆ° Ä‘iá»‡n, tá»«ng cÃ´ng tÃ¡c táº¡i nhÃ  mÃ¡y thá»§y Ä‘iá»‡n HÃ²a BÃ¬nh." },
  { id: 11, pid: 3, index: "Äá»i thá»© 4", name: "Nguyá»…n Thá»‹ G: 1955", VC: "Nguyá»…n Äá»©c G: 1946", chitiet: "Sinh nÄƒm 1955, hiá»‡n sinh sá»‘ng táº¡i Nam Äá»‹nh." },
  { id: 12, pid: 4, index: "Äá»i thá»© 4", name: "Nguyá»…n ÄÃ¬nh H", VC: "Nguyá»…n Thá»‹ H: 1954", chitiet: "GiÃ¡o viÃªn nghá»‰ hÆ°u<br> cÃ³ hai ngÆ°á»i con trai." },
  { id: 19, pid: 4, index: "Äá»i thá»© 4", name: "Nguyá»…n Thá»‹ K: 1947", VC: "Äá»— ThÃ¡i Kh: 1942", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh y<br>cÃ³ con trai trÆ°á»Ÿng lÃ  Äá»— VÄƒn L." }
];

OrgChart.templates.centerAlign = Object.assign({}, OrgChart.templates.ana);
OrgChart.templates.centerAlign.size = [240, 70];
OrgChart.templates.centerAlign.minus =
  '<circle cx="15" cy="15" r="7" fill="#ffffff" stroke="#039BE5" stroke-width="1.2"></circle>' +
  '<path d="M10.5,15 h9" stroke="#039BE5" stroke-width="1.6"></path>';
OrgChart.templates.centerAlign.plus =
  '<circle cx="15" cy="15" r="7" fill="#ffffff" stroke="#039BE5" stroke-width="1.2"></circle>' +
  '<path d="M15,10.5 v9 M10.5,15 h9" stroke="#039BE5" stroke-width="1.6"></path>';
OrgChart.templates.centerAlign.link =
  '<path stroke="#808080" stroke-width="1" fill="none" d="{edge}" />';
OrgChart.templates.centerAlign.field_0 =
  '<foreignObject x="5" y="10" width="230" height="20"><div class="node-text index">{val}</div></foreignObject>';
OrgChart.templates.centerAlign.field_1 =
  '<foreignObject x="5" y="28" width="230" height="22"><div class="node-text name">{val}</div></foreignObject>';
OrgChart.templates.centerAlign.field_2 =
  '<foreignObject x="5" y="48" width="230" height="18"><div class="node-text vc">{val}</div></foreignObject>';

var chart = new OrgChart(document.getElementById("tree"), {
  template: "centerAlign",
  enableSearch: true,
  nodeMouseClick: OrgChart.action.none,
  collapse: { level: 4 },
  nodes: nodes,
  nodeBinding: { field_0: "index", field_1: "name", field_2: "VC" }
});

const popup = document.getElementById("popup");

// Khi click vÃ o node => hiá»ƒn thá»‹ chi tiáº¿t
chart.on('click', function(sender, args){
  const node = chart.get(args.node.id);
  if (node && node.chitiet) {
    popup.innerHTML = `<b>${node.name}</b><br>${node.chitiet}`;
    popup.style.display = "block";
    popup.style.left = (args.event.pageX + 12) + "px";
    popup.style.top = (args.event.pageY + 12) + "px";
  }
  return false; // ngÄƒn cháº·n má»Ÿ rá»™ng node
});

// Khi click ra ngoÃ i thÃ¬ áº©n popup
document.addEventListener('click', function(e){
  if (!e.target.closest('.node') && !e.target.closest('#popup')) {
    popup.style.display = 'none';
  }
});
</script>
</body>
</html>
