<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Pháº£ há»‡ gia Ä‘Ã¬nh, dÃ²ng há»</title>
<script src="https://balkan.app/js/OrgChart.js"></script>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Cháº·n cuá»™n trang web chÃ­nh */
    font-family: Arial, sans-serif;
  }

  /* Viá»n cam bao quanh toÃ n bá»™ trang web */
  body {
    box-sizing: border-box;
    border: 6px solid #ff6a00;
    background: white;
    position: relative; /* Äá»ƒ Ä‘á»‹nh vá»‹ footer */
  }

  #tree {
    width: 100%;
    height: 100%;
  }

  .node-text {
    width: 230px;
    text-align: center;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.1;
  }

  .index { font-size: 13px; color: #e60000; }
  .name { font-size: 15px; font-weight: normal; color: #fceb07; }
  .vc { font-size: 14px; color: #ffffff; }

  /* Há»™p chi tiáº¿t (popup) chung */
  #popup {
    display: none;
    position: absolute;
    background: rgba(255,255,255,0.98);
    border: 2px solid #ff6a00;
    border-radius: 8px;
    padding: 15px;
    max-width: 300px;
    min-width: 200px;
    font-size: 14px;
    line-height: 1.4;
    z-index: 9999;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    color: #333;
  }

  .close-btn {
    display: block;
    margin-top: 10px;
    text-align: right;
    color: #039BE5;
    cursor: pointer;
    font-weight: bold;
    border-top: 1px solid #eee;
    padding-top: 5px;
  }

  /* Footer liÃªn há»‡ á»Ÿ dÆ°á»›i Ä‘Ã¡y */
  h5.contact-footer {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    margin: 0;
    padding: 8px 0;
    background: rgba(255, 255, 255, 0.9); /* Ná»n tráº¯ng má» */
    color: #333;
    text-align: center;
    font-size: 13px;
    font-weight: normal;
    border-top: 1px solid #ccc;
    z-index: 1000; /* LuÃ´n ná»•i lÃªn trÃªn */
  }

  @media (max-width: 768px) {
    #popup {
      position: fixed;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 90%;
    }
    #popup::before {
      content: '';
      position: fixed;
      top: -1000px; left: -1000px; right: -1000px; bottom: -1000px;
      z-index: -1;
    }
    
    /* TrÃªn Ä‘iá»‡n thoáº¡i, giáº£m cá»¡ chá»¯ footer má»™t chÃºt */
    h5.contact-footer {
        font-size: 11px;
        padding: 5px 2px;
    }
  }

  .announcement-bar {
    font-family: 'Lobster', cursive; 
    text-align: center; 
    font-size: 24px;
    padding: 10px 0; 
    color: #d14b00;
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
</head>
<body>

<!-- HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG - HIá»‚N THá»Š KHI Má» TRANG -->
<div id="huongdan" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:99999; display:flex; align-items:center; justify-content:center; color:white; font-family:Arial,sans-serif;">
  <div style="background:#fff; color:#333; padding:25px 30px; border-radius:12px; max-width:500px; box-shadow:0 10px 30px rgba(0,0,0,0.5); position:relative;">
    <h2 style="font-size:18px;text-align:center; color:#d14b00; margin-top:0;">ğŸ”¥ HÆ¯á»šNG DáºªN XEM PHáº¢ Há»† GIA ÄÃŒNH ğŸ”¥</h2>
    <div style="font-size:14px; line-height:1.7;">
      <p>ğŸ‘‰ <strong>PhÃ³ng to/thu nhá»:</strong> DÃ¹ng 2 ngÃ³n tay chá»¥m â€“ dang (trÃªn Ä‘iá»‡n thoáº¡i) hoáº·c con lÄƒn chuá»™t (trÃªn mÃ¡y tÃ­nh)</p>
      <p>ğŸ‘‰ <strong>Di chuyá»ƒn báº£n Ä‘á»“ gia pháº£:</strong> KÃ©o báº±ng 1 ngÃ³n tay (Ä‘iá»‡n thoáº¡i) hoáº·c giá»¯ chuá»™t trÃ¡i kÃ©o (mÃ¡y tÃ­nh)</p>
      <p>ğŸ‘‰ <strong>Xem thÃ´ng tin chi tiáº¿t:</strong> <strong>Nháº¥n vÃ o tÃªn báº¥t ká»³</strong> â†’ sáº½ hiá»‡n há»™p thÃ´ng tin</p>
      <p>ğŸ‘‰ <strong>TÃ¬m kiáº¿m nhanh:</strong> GÃµ tÃªn vÃ o Ã´ tÃ¬m kiáº¿m á»Ÿ gÃ³c trÃªn bÃªn trÃ¡i</p>
      <p>ğŸ‘‰ <strong>Má»Ÿ rá»™ng/thu gá»n nhÃ¡nh:</strong> Nháº¥n vÃ o dáº¥u <span style="color:#039BE5; font-weight:bold;">+ </span> hoáº·c <span style="color:#039BE5; font-weight:bold;">âˆ’</span> nhá» bÃªn dÆ°á»›i má»—i há»™p</p>
      <p>ğŸ‘‰ <strong>Chá»‰ má»Ÿ riÃªng 1 nhÃ¡nh:</strong> ÄÃ³ng háº¿t cÃ¡c nhÃ¡nh, nháº­p tÃªn ngÆ°á»i nÃ o Ä‘Ã³ trong nhÃ¡nh cáº§n má»Ÿ vÃ o Ã´ tÃ¬m kiáº¿m "Search ... type", báº¥m vÃ o tÃªn ngÆ°á»i cáº§n tÃ¬m sáº½ má»Ÿ riáº¿ng nhÃ¡nh Ä‘Ã³</p>
    </div>
    <div style="text-align:center; margin-top:20px;">
      <button onclick="document.getElementById('huongdan').style.display='none'" 
              style="background:#ff6a00; color:white; border:none; padding:12px 30px; font-size:14px; border-radius:8px; cursor:pointer; font-weight:bold;">
        ÄÃ“NG â€“ XEM PHáº¢ Há»†
      </button>
    </div>
    <!--small style="display:block; text-align:center; margin-top:15px; color:#666;">
      (Nháº¥n láº¡i vÃ o nÃºt nÃ y báº¥t ká»³ lÃºc nÃ o náº¿u muá»‘n xem láº¡i hÆ°á»›ng dáº«n)
    </small-->
  </div>
</div>
<!-- Háº¾T HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG -->
<div class="announcement-bar"> ğŸ”¥ Gia Ä‘Ã¬nh cá»¥ Nguyá»…n ÄÃ¬nh A ğŸ”¥ </div>  
<div id="tree"></div>

<div id="popup">
  <div id="popup-content"></div>
  <div class="close-btn" onclick="document.getElementById('popup').style.display='none'">ÄÃ³ng X</div>
</div>

<!--h5 class="contact-footer">
    â˜… Bá»• sung chá»‰nh sá»­a, liÃªn há»‡ 0946.135.789 â˜… <br>
    Nháº­n dá»‹ch VÄƒn bia, CÃ¢u Ä‘á»‘i, Gia pháº£, Sáº¯c phong ... vÃ  cÃ¡c loáº¡i tÃ i liá»‡u HÃ¡n NÃ´m <br>
    TS ÄÃ o PhÆ°Æ¡ng Chi, TrÆ°á»Ÿng phÃ²ng ThÆ° tá»‹ch, Viá»‡n NghiÃªn cá»©u HÃ¡n NÃ´m: 0912003233
</h5-->
<h5 class="contact-footer" style="font-size:15px !important; line-height:1.65; padding:12px 8px !important;">
    <strong style="color:#d14b00; font-size:18px;">â˜… Bá»• sung â€“ chá»‰nh sá»­a liÃªn há»‡: 0946.135.789 â˜…</strong><br>
    Nháº­n dá»‹ch VÄƒn bia, CÃ¢u Ä‘á»‘i, Gia pháº£, Sáº¯c phong vÃ  cÃ¡c tÃ i liá»‡u HÃ¡n NÃ´m<br>
    TS ÄÃ o PhÆ°Æ¡ng Chi, TrÆ°á»Ÿng phÃ²ng ThÆ° tá»‹ch â€“ Viá»‡n NghiÃªn cá»©u HÃ¡n NÃ´m 091200.3233
</h5>
<script>
var nodes = [
  { id: 1, index: "Äá»i thá»© 1", name: "Nguyá»…n ÄÃ¬nh A: 1844", VC: "Äá»— Thá»‹ A", chitiet: "NgÆ°á»i sÃ¡ng láº­p chi há», sinh nÄƒm 1844, quÃª HÃ  TÃ¢y." },
  { id: 2, pid: 1, index: "Äá»i thá»© 2", name: "Nguyá»…n ÄÃ¬nh B: 1882", VC: "Äá»— Thá»‹ B", chitiet: "Con trÆ°á»Ÿng cá»§a Nguyá»…n ÄÃ¬nh A, cÃ³ nhiá»u Ä‘Ã³ng gÃ³p cho dÃ²ng há»." },
  { id: 3, pid: 2, index: "Äá»i thá»© 3", name: "Nguyá»…n ÄÃ¬nh C: 1912", VC: "Nguyá»…n Thá»‹ C", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh giÃ¡o dá»¥c, cÃ³ ba ngÆ°á»i con." },
  { id: 4, pid: 2, index: "Äá»i thá»© 3", name: "Nguyá»…n ÄÃ¬nh D: 1914", VC: "Nguyá»…n Thá»‹ D: 1922", chitiet: "Sinh nÄƒm 1914, lÃ m viá»‡c táº¡i HÃ  Ná»™i, cÃ³ hai ngÆ°á»i con." },
  { id: 5, pid: 3, index: "Äá»i thá»© 4", name: "Nguyá»…n ÄÃ¬nh E: 1940", VC: "Nguyá»…n Thá»‹ E", chitiet: "Ká»¹ sÆ° Ä‘iá»‡n, tá»«ng cÃ´ng tÃ¡c táº¡i nhÃ  mÃ¡y thá»§y Ä‘iá»‡n HÃ²a BÃ¬nh." },
  { id: 6, pid: 3, index: "Äá»i thá»© 4", name: "Nguyá»…n Thá»‹ G: 1955", VC: "Nguyá»…n Äá»©c G: 1946", chitiet: "Sinh nÄƒm 1955, hiá»‡n sinh sá»‘ng táº¡i Nam Äá»‹nh." },
  { id: 7, pid: 4, index: "Äá»i thá»© 4", name: "Nguyá»…n ÄÃ¬nh H: 1952", VC: "Nguyá»…n Thá»‹ H: 1954", chitiet: "GiÃ¡o viÃªn nghá»‰ hÆ°u<br> cÃ³ hai ngÆ°á»i con trai." },
  { id: 8, pid: 4, index: "Äá»i thá»© 4", name: "Nguyá»…n Thá»‹ K: 1947", VC: "Äá»— ThÃ¡i Kh: 1942", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh y<br>cÃ³ con trai trÆ°á»Ÿng lÃ  Äá»— VÄƒn L." },
  { id: 9, pid: 5, index: "Äá»i thá»© 5", name: "Nguyá»…n Thá»‹ L: 1948", VC: "Äá»— ThÃ¡i Kh: 1942", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh y<br>cÃ³ con trai trÆ°á»Ÿng lÃ  Äá»— VÄƒn L." },
  { id: 10, pid: 6, index: "Äá»i thá»© 5", name: "Nguyá»…n Thá»‹ M: 1949", VC: "Äá»— ThÃ¡i Kh: 1942", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh y<br>cÃ³ con trai trÆ°á»Ÿng lÃ  Äá»— VÄƒn L." },
  { id: 11, pid: 7, index: "Äá»i thá»© 5", name: "Nguyá»…n Thá»‹ N: 1946", VC: "Äá»— ThÃ¡i Kh: 1942", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh y<br>cÃ³ con trai trÆ°á»Ÿng lÃ  Äá»— VÄƒn L." },
  { id: 12, pid: 8, index: "Äá»i thá»© 5", name: "Nguyá»…n Thá»‹ P: 1949", VC: "Äá»— ThÃ¡i Kh: 1942", chitiet: "CÃ´ng tÃ¡c trong ngÃ nh y<br>cÃ³ con trai trÆ°á»Ÿng lÃ  Äá»— VÄƒn L." }
];

OrgChart.templates.centerAlign = Object.assign({}, OrgChart.templates.ana);
OrgChart.templates.centerAlign.size = [240, 70];
OrgChart.templates.centerAlign.minus =
  '<circle cx="15" cy="15" r="7" fill="#ffffff" stroke="#039BE5" stroke-width="1.2"></circle>' +
  '<path d="M10.5,15 h9" stroke="#039BE5" stroke-width="1.6"></path>';
OrgChart.templates.centerAlign.plus =
  '<circle cx="15" cy="15" r="7" fill="#ffffff" stroke="#039BE5" stroke-width="1.2"></circle>' +
  '<path d="M15,10.5 v9 M10.5,15 h9" stroke="#039BE5" stroke-width="1.6"></path>';
OrgChart.templates.centerAlign.link =
  '<path stroke="#808080" stroke-width="1" fill="none" d="{edge}" />';
OrgChart.templates.centerAlign.field_0 =
  '<foreignObject x="5" y="10" width="230" height="20"><div class="node-text index">{val}</div></foreignObject>';
OrgChart.templates.centerAlign.field_1 =
  '<foreignObject x="5" y="28" width="230" height="22"><div class="node-text name">{val}</div></foreignObject>';
OrgChart.templates.centerAlign.field_2 =
  '<foreignObject x="5" y="48" width="230" height="18"><div class="node-text vc">{val}</div></foreignObject>';

var chart = new OrgChart(document.getElementById("tree"), {
  template: "centerAlign",
  enableSearch: true,
  nodeMouseClick: OrgChart.action.none,
  collapse: { level: 4 },
  nodes: nodes,
  nodeBinding: { field_0: "index", field_1: "name", field_2: "VC" }
});

const popup = document.getElementById("popup");
const popupContent = document.getElementById("popup-content");

chart.on('click', function(sender, args){
  const node = chart.get(args.node.id);
  if (node && node.chitiet) {
    popupContent.innerHTML = `
      <div style="font-size:16px; font-weight:bold; margin-bottom:5px; color:#d14b00;">${node.name}</div>
      <div style="color:#555;">${node.chitiet}</div>
    `;
    popup.style.display = "block";

    if (window.innerWidth <= 768) {
        popup.style.position = "fixed";
        popup.style.top = "50%";
        popup.style.left = "50%";
    } else {
        popup.style.position = "absolute";
        popup.style.top = (args.event.pageY + 15) + "px";
        popup.style.left = (args.event.pageX + 15) + "px";
        if (args.event.pageX + 300 > window.innerWidth) {
             popup.style.left = (args.event.pageX - 315) + "px";
        }
    }
  }
  return false;
});

document.addEventListener('click', function(e){
  if (!e.target.closest('.node') && !e.target.closest('#popup')) {
    popup.style.display = 'none';
  }
}, true);
</script>
</body>
</html>
